<!DOCTYPE html>
<html>
    <head>
        <title>VERDE Materials DB</title>

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">

        <!-- Optional theme -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css" integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
        <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">    
        <!-- Latest compiled and minified JavaScript -->
        <script type="text/css" src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

        <!-- Z. Hu, center the texts in the columns/titles of the table -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/test.css') }}">
        <!--
        <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='css/doc.css') }}" />
        -->
        <!-- Z. Hu, math mode for flask table -->
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script>

        <style>
            .dtHorizontalExampleWrapper {
            max-width: 600px;
            margin: 0 auto;
            }
            #dtHorizontalExample th, td {
            {# Z. Hu, center the texts in the rows of the table #}
            text-align: center;
            white-space: nowrap;
            }

            table.dataTable thead .sorting:after,
            table.dataTable thead .sorting:before,
            table.dataTable thead .sorting_asc:after,
            table.dataTable thead .sorting_asc:before,
            table.dataTable thead .sorting_asc_disabled:after,
            table.dataTable thead .sorting_asc_disabled:before,
            table.dataTable thead .sorting_desc:after,
            table.dataTable thead .sorting_desc:before,
            table.dataTable thead .sorting_desc_disabled:after,
            table.dataTable thead .sorting_desc_disabled:before {
            bottom: .5em;
            }

        </style>
    </head>
    <body>

       <h1 style="text-align: center">VERDE Materials DB</h1>
       <!-- Z. Hu, comment out temporarily -->
       <!--
       <a href="{{ url_for('adminLogin') }}" target="_blank"><h5 style="text-align: center">Admin Login</h5></a>
       -->
       <br>
       <div class="container">
       <p>The Lopez group at Northeastern University (Boston, USA) announces the Virtual Excited State Reference for the Discovery of Electronic Materials Database (VERDE materials DB) is searchable, open-access via <a href="http://verdedb.org/" target="_blank">www.verdedb.org</a>. We have established this resource in line with our interest in light-responsive π-conjugated organic molecules with applications in green chemistry, organic solar cells, and organic redox flow batteries. It includes results of our active and past virtual screening studies; to date, more than <b>13000</b> density functional theory (DFT) calculations have been performed on <b>1500</b> molecules to obtain frontier molecular orbitals and photophysical properties, including excitation energies, dipole moments, and redox potentials. We are leveraging VERDE materials DB to train machine learning algorithms to identify new materials and structure–property relationships between molecular ground- and excited-states. If you are interested in downloading the complete set, please e-mail Prof. Lopez at <a href = "mailto: s.lopez@northeastern.edu">s.lopez[at]northeastern.edu.</a> You can find out more about our group at <a href="https://web.northeastern.edu/lopezlab/" target="_blank">https://web.northeastern.edu/lopezlab/.</a></p>
       <br>
       <br>
       </div>
        <div class="container p-3 my-3 border">
            {% from "FormHelpers.html" import render_field %}
            <form method=post>
              <dl>
                <div class="row">
                    <!-- Z. Hu, we don't really need SMILES or InChIKey for searching                   
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.smiles) }}
                    </div>
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.inchiKey) }}
                    </div>
                    -->
		    <!-- Z. Hu, support searching via SMILES-->  
                    <div class="col-xs-6 text-center">
                        {{ render_field(form.smiles) }}
                    </div>
                    <div class="col-xs-6 text-center">
                        {{ render_field(form.inchiKey) }}
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.homo) }}
                    </div>
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.lumo) }}
                    </div>
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.verticalExcitationEnergy) }}
                    </div>
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.redoxPotentialS0) }}
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.redoxPotentialS1) }}
                    </div>
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.redoxPotentialT1) }}
                    </div>
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.dipoleMomentS0) }}
                    </div>
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.dipoleMomentS1) }}
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.dipoleMomentT1) }}
                    </div>
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.ionizationPotential) }}
                    </div>
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.zero0s1) }}
                    </div>
                    <div class="col-xs-3 text-center">
                        {{ render_field(form.zero0t1) }}
                    </div>
                </div>
              </dl>
                <div class="col text-center">
        {#      <input type=submit value=Search>#}
                    <button type="submit" class="btn btn-primary center">Search</button>
                </div>
            </form>
        </div>
        <!-- Zhongwei -->
        <br>
        <!-- Z. Hu, comment out temporarily -->
        <a href="{{ url_for('addSmile') }}" target="_blank"><h5 style="text-align: center">Add SMILE to Database</h5></a>
        <div class="container p-3 my-3 border">
            {{ table }}
        </div>
        <script>
            $(document).ready(function () {
            $('#dtHorizontalVertical').DataTable({
            "scrollX": true,
            "scrollY": 200,
            "bFilter": false,
            "columnDefs": [
              { "orderable": false, "targets": 0 }
            ]
            });
            $('.dataTables_length').addClass('bs-select');
            });
        </script>
        <!-- Z. Hu, download the results -->
	<a href="{{ url_for('getCSVNew') }}" target="_blank"><h5 style="text-align: center">Download Query Results</h5></a>
    </body>
</html>
